{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"h1\", null, _toDisplayString($props.msg), 1 /* TEXT */), _cache[1] || (_cache[1] = _createElementVNode(\"label\", null, [_createElementVNode(\"p\", null, [_createTextVNode(\" Digite um Nome Fantasia, Razao Social, Regiao de Comercializacao, Modalidade, Cidade, UF ou Bairro para realizar a busca. \"), _createElementVNode(\"br\"), _createTextVNode(\" Ou deixe em branco para listar todas as operadoras. \")]), _createElementVNode(\"input\", {\n    type: \"text\"\n  })], -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.buscar && $options.buscar(...args))\n  }, \" Buscar \"), $data.resultados.length ? (_openBlock(), _createElementBlock(\"table\", _hoisted_1, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.colunas, (coluna, index) => {\n    return _openBlock(), _createElementBlock(\"th\", {\n      key: index\n    }, _toDisplayString(coluna), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.resultados, (registro, i) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: i\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.colunas, (coluna, j) => {\n      return _openBlock(), _createElementBlock(\"td\", {\n        key: j\n      }, _toDisplayString(registro[coluna]), 1 /* TEXT */);\n    }), 128 /* KEYED_FRAGMENT */))]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["key","_createElementBlock","_createElementVNode","_toDisplayString","$props","msg","_createTextVNode","type","onClick","_cache","args","$options","buscar","$data","resultados","length","_hoisted_1","_Fragment","_renderList","colunas","coluna","index","registro","i","j","_createCommentVNode"],"sources":["C:\\Desenv\\JS\\front-vue\\src\\components\\Operadoras.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>{{ msg }}</h1>\n    <label>\n      <p>\n        Digite um\n        Nome Fantasia,\n        Razao Social,\n        Regiao de Comercializacao,\n        Modalidade,\n        Cidade,\n        UF ou\n        Bairro\n        para realizar a busca.\n        <br />\n        Ou deixe em branco para listar todas as operadoras.\n      </p>\n      <input type=\"text\" />\n    </label>\n    <button @click=\"buscar\"> Buscar </button>\n    <table v-if=\"resultados.length\">\n      <thead>\n        <tr>\n          <th v-for=\"(coluna, index) in colunas\" :key=\"index\">{{ coluna }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"(registro, i) in resultados\" :key=\"i\">\n          <td v-for=\"(coluna, j) in colunas\" :key=\"j\">\n            {{ registro[coluna] }}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'FiltroOperadoras',\n  props: {\n    msg: String\n  },\n  data() {\n    return {\n      termoBusca: '',\n      resultados: [],\n      colunas: [],\n      erro: ''\n    }\n  },\n  methods: {\n    async buscar() {\n      this.resultados = []\n      this.colunas = []\n      this.erro = ''\n\n      try {\n        const res = await fetch(`http://localhost:5000/operadoras?busca=${encodeURIComponent(this.termoBusca)}`)\n        if (!res.ok) throw new Error('Erro na requisição')\n\n        const json = await res.json()\n        this.resultados = json\n        if (json.length > 0) {\n          this.colunas = Object.keys(json[0])\n        }\n        console.log(this.resultados);\n\n      } catch (e) {\n        this.erro = 'Erro ao buscar operadoras. verifique se o servidor está rodando.'\n        console.error(e)\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n\ninput {\n  width: 510px;\n}\n\ntable {\n  margin-top: 24px;\n  border-collapse: collapse;\n  width: 100%;\n}\n\nth,\ntd {\n  border: 1px solid #ccc;\n  padding: 8px;\n  text-align: left;\n}\n\nth {\n  background: #f5f5f5;\n}\n</style>\n"],"mappings":";;EAAAA,GAAA;AAAA;;uBACEC,mBAAA,CAiCM,cAhCJC,mBAAA,CAAkB,YAAAC,gBAAA,CAAXC,MAAA,CAAAC,GAAG,kB,0BACVH,mBAAA,CAeQ,gBAdNA,mBAAA,CAYI,YAhBVI,gBAAA,CAIS,6HAUD,GAAAJ,mBAAA,CAAM,OAddI,gBAAA,CAcc,uDAER,E,GACAJ,mBAAA,CAAqB;IAAdK,IAAI,EAAC;EAAM,G,sBAEpBL,mBAAA,CAAyC;IAAhCM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,MAAA,IAAAD,QAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;KAAE,UAAQ,GACnBG,KAAA,CAAAC,UAAU,CAACC,MAAM,I,cAA9Bd,mBAAA,CAaQ,SAjCZe,UAAA,GAqBMd,mBAAA,CAIQ,gBAHNA,mBAAA,CAEK,c,kBADHD,mBAAA,CAAqEgB,SAAA,QAvB/EC,WAAA,CAuBwCL,KAAA,CAAAM,OAAO,EAvB/C,CAuBsBC,MAAM,EAAEC,KAAK;yBAAzBpB,mBAAA,CAAqE;MAA7BD,GAAG,EAAEqB;IAAK,GAAAlB,gBAAA,CAAKiB,MAAM;sCAGjElB,mBAAA,CAMQ,iB,kBALND,mBAAA,CAIKgB,SAAA,QA/BbC,WAAA,CA2BoCL,KAAA,CAAAC,UAAU,EA3B9C,CA2BoBQ,QAAQ,EAAEC,CAAC;yBAAvBtB,mBAAA,CAIK;MAJoCD,GAAG,EAAEuB;IAAC,K,kBAC7CtB,mBAAA,CAEKgB,SAAA,QA9BfC,WAAA,CA4BoCL,KAAA,CAAAM,OAAO,EA5B3C,CA4BsBC,MAAM,EAAEI,CAAC;2BAArBvB,mBAAA,CAEK;QAF+BD,GAAG,EAAEwB;MAAC,GAAArB,gBAAA,CACrCmB,QAAQ,CAACF,MAAM;;wCA7B9BK,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}