{"ast":null,"code":"export default {\n  name: 'FiltroOperadoras',\n  props: {\n    msg: String\n  },\n  data() {\n    return {\n      termoBusca: '',\n      resultados: [],\n      colunas: [],\n      erro: ''\n    };\n  },\n  methods: {\n    async buscar() {\n      this.resultados = [];\n      this.colunas = [];\n      this.erro = '';\n      try {\n        const res = await fetch(`http://localhost:5000/operadoras?busca=${encodeURIComponent(this.termoBusca)}`);\n        if (!res.ok) throw new Error('Erro na requisição');\n        const json = await res.json();\n        this.resultados = json;\n        if (json.length > 0) {\n          this.colunas = Object.keys(json[0]);\n        }\n        console.log(this.resultados);\n      } catch (e) {\n        this.erro = 'Erro ao buscar operadoras. verifique se o servidor está rodando.';\n        console.error(e);\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","props","msg","String","data","termoBusca","resultados","colunas","erro","methods","buscar","res","fetch","encodeURIComponent","ok","Error","json","length","Object","keys","console","log","e","error"],"sources":["C:\\Desenv\\JS\\front-vue\\src\\components\\Operadoras.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>{{ msg }}</h1>\n    <label>\n      <p>\n        Digite um\n        Nome Fantasia,\n        Razao Social,\n        Regiao de Comercializacao,\n        Modalidade,\n        Cidade,\n        UF ou\n        Bairro\n        para realizar a busca.\n        <br />\n        Ou deixe em branco para listar todas as operadoras.\n      </p>\n      <input type=\"text\" />\n    </label>\n    <button @click=\"buscar\"> Buscar </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'FiltroOperadoras',\n  props: {\n    msg: String\n  },\n  data() {\n    return {\n      termoBusca: '',\n      resultados: [],\n      colunas: [],\n      erro: ''\n    }\n  },\n  methods: {\n    async buscar() {\n      this.resultados = []\n      this.colunas = []\n      this.erro = ''\n\n      try {\n        const res = await fetch(`http://localhost:5000/operadoras?busca=${encodeURIComponent(this.termoBusca)}`)\n        if (!res.ok) throw new Error('Erro na requisição')\n\n        const json = await res.json()\n        this.resultados = json\n        if (json.length > 0) {\n          this.colunas = Object.keys(json[0])\n        }\n        console.log(this.resultados);\n\n      } catch (e) {\n        this.erro = 'Erro ao buscar operadoras. verifique se o servidor está rodando.'\n        console.error(e)\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n\ninput {\n  width: 510px;\n}\n</style>\n"],"mappings":"AAwBA,eAAe;EACbA,IAAI,EAAE,kBAAkB;EACxBC,KAAK,EAAE;IACLC,GAAG,EAAEC;EACP,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE,EAAE;MACdC,UAAU,EAAE,EAAE;MACdC,OAAO,EAAE,EAAE;MACXC,IAAI,EAAE;IACR;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,MAAMA,CAAA,EAAG;MACb,IAAI,CAACJ,UAAS,GAAI,EAAC;MACnB,IAAI,CAACC,OAAM,GAAI,EAAC;MAChB,IAAI,CAACC,IAAG,GAAI,EAAC;MAEb,IAAI;QACF,MAAMG,GAAE,GAAI,MAAMC,KAAK,CAAC,0CAA0CC,kBAAkB,CAAC,IAAI,CAACR,UAAU,CAAC,EAAE;QACvG,IAAI,CAACM,GAAG,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,oBAAoB;QAEjD,MAAMC,IAAG,GAAI,MAAML,GAAG,CAACK,IAAI,CAAC;QAC5B,IAAI,CAACV,UAAS,GAAIU,IAAG;QACrB,IAAIA,IAAI,CAACC,MAAK,GAAI,CAAC,EAAE;UACnB,IAAI,CAACV,OAAM,GAAIW,MAAM,CAACC,IAAI,CAACH,IAAI,CAAC,CAAC,CAAC;QACpC;QACAI,OAAO,CAACC,GAAG,CAAC,IAAI,CAACf,UAAU,CAAC;MAE9B,EAAE,OAAOgB,CAAC,EAAE;QACV,IAAI,CAACd,IAAG,GAAI,kEAAiE;QAC7EY,OAAO,CAACG,KAAK,CAACD,CAAC;MACjB;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}